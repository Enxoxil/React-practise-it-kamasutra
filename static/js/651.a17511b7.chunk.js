"use strict";(self.webpackChunkinit_react_project=self.webpackChunkinit_react_project||[]).push([[651],{3651:function(t,s,e){e.r(s),e.d(s,{default:function(){return w}});var r=e(8683),n=e(5671),i=e(3144),o=e(136),u=e(5716),a=e(2791),p=e(885),d=e(184),l=function(t){var s=(0,a.useState)(!1),e=(0,p.Z)(s,2),r=e[0],n=e[1],i=(0,a.useState)(t.status),o=(0,p.Z)(i,2),u=o[0],l=o[1];(0,a.useEffect)((function(){l(t.status)}),[t.status]);return(0,d.jsx)("div",{children:r?(0,d.jsx)("div",{children:(0,d.jsx)("input",{onChange:function(t){l(t.currentTarget.value)},onBlur:function(){n(!1),t.updateStatus(u)},value:u})}):(0,d.jsx)("div",{children:(0,d.jsx)("span",{onDoubleClick:function(){n(!0)},children:t.status||"No status"})})})},c=e(5606),h=e(6139),f=e(704),x=e(77),j=e(7492),m=(0,x.D)(100),g=function(t){return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("div",{children:["Text: ",t.message]}),(0,d.jsxs)("div",{children:["Likes: ",t.likesCount]})]})},v=(0,f.Z)({form:"ProfileAddNewPostForm"})((function(t){return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("form",{onSubmit:t.handleSubmit,children:[(0,d.jsx)("div",{children:(0,d.jsx)(h.Z,{component:j.gx,name:"newPostText",validate:[x.C,m],placeholder:"Post message"})}),(0,d.jsx)("div",{children:(0,d.jsx)("button",{children:"Add post"})})]})})})),P=function(t){if(!t.profile)return(0,d.jsx)(c.Z,{});var s=t.posts.map((function(t){return(0,d.jsx)(g,{message:t.message,likesCount:t.likesCount})}));return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("img",{src:t.profile.photos.large}),(0,d.jsx)(l,{status:t.status,updateStatus:t.updateStatus}),(0,d.jsxs)("div",{children:["\u041e\u0431\u043e \u043c\u043d\u0435: ",t.profile.aboutMe]}),(0,d.jsx)("h4",{children:"My posts"}),(0,d.jsx)(v,{onSubmit:function(s){t.addPost(s.newPostText)}}),(0,d.jsx)("div",{children:s})]})},S=e(6070),Z=e(8687),k=e(3679),C=e(7781),b=function(t){(0,o.Z)(e,t);var s=(0,u.Z)(e);function e(){return(0,n.Z)(this,e),s.apply(this,arguments)}return(0,i.Z)(e,[{key:"componentDidMount",value:function(){var t=this.props.match.params.userId;t||(t=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(t),this.props.getStatus(t)}},{key:"render",value:function(){return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(P,(0,r.Z)((0,r.Z)({},this.props),{},{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,addPost:this.props.addPost,posts:this.props.posts}))})}}]),e}(a.Component),w=(0,C.qC)((0,Z.$j)((function(t){return{profile:t.profilePage.profile,status:t.profilePage.status,posts:t.profilePage.posts,authorizedUserId:t.auth.userId,isAuth:t.auth.isAuth}}),{getUserProfile:S.et,getStatus:S.lR,updateStatus:S.Nf,addPost:S.q2}),k.Z)(b)}}]);
//# sourceMappingURL=651.a17511b7.chunk.js.map